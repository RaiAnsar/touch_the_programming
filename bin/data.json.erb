<%
require 'json'
COLORS = %w[
  000000 F44336 E91E63 FF4081 9C27B0 E040FB 673AB7 7C4DFF 3F51B5 536DFE
  2196F3 448AFF 03A9F4 40C4FF 00BCD4 18FFFF 009688 64FFDA 4CAF50 69F0AE
  8BC34A B2FF59 CDDC39 EEFF41 FFEB3B FFFF00 FFC107 FFD740 FF9800 FFAB40
  FF5722 FF6E40 795548 9E9E9E 607D8B
  Random
].to_json
OFFSETS = %w[
  -250 -200 -150 -100 -50
  0
  50 100 150 200 250
  Random
].to_json
SIZES = %w[
  50 100 150
  Random
].to_json
NUM = %w[
  1 3 5 7 9
  11 13 15 17 19
  21 23 25 27 29
  Random
].to_json
OPACITY = %w[
  1.0 0.9 0.7 0.5 0.3 0.1 0.0
  Random
].to_json
LINE_WIDTH = %w[
  1.0 2.0 3.0
  Random
].to_json
V = %w[
  0 1 5 10
].to_json
SHAPES = %w[
  Circle Rect RoundedRect Triangle Diamond Pentagon Hexagon Octagon Decagon Dodecagon Heart
  Star5 Star6 Star7 Star8
  Random
].to_json
LINE = %w[
  true false
].to_json
IF = <<EOD.strip
      {
        "val": "999999999",
        "hide": true,
        "opts": [],
        "id": "ifx"
      },
      {
        "val": "999999999",
        "hide": true,
        "opts": [],
        "id": "ify"
      },
EOD
%>
[
  <%- # --- Comments --- -%>
  [
    [
      {
        "val": "Random",
        "hide": true,
        "opts": <%= SIZES %>,
        "noCache": false,
        "id": "r"
      },
      {
        "val": "30",
        "hide": true,
        "opts": [],
        "noCache": false,
        "id": "n"
      },
      {
        "val": "Random",
        "hide": true,
        "opts": <%= OFFSETS %>,
        "noCache": false,
        "id": "x"
      },
      {
        "val": "Random",
        "hide": true,
        "opts": <%= OFFSETS %>,
        "noCache": false,
        "id": "y"
      },
      {
        "val": "Random",
        "hide": true,
        "opts": <%= SHAPES %>,
        "noCache": false,
        "id": "sh"
      },
      {
        "val": "000000",
        "hide": true,
        "opts": [],
        "id": "fill"
      },
      {
        "val": "0.1",
        "hide": true,
        "opts": [],
        "id": "fillopa"
      },
      {
        "val": "000000",
        "hide": true,
        "opts": [],
        "id": "str"
      },
      {
        "val": "0.9",
        "hide": true,
        "opts": [],
        "id": "stropa"
      },
      {
        "val": "1",
        "hide": true,
        "opts": [],
        "id": "strw"
      },
      <%= IF %>
  <%- # --- -%>
      {
        "val": "/*",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "Hello world",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "*/",
        "hide": false,
        "opts": []
      }
    ]
  ],

  <%- # --- Assign --- -%>
  [
    [
      <%= IF %>
  <%- # --- -%>
      {
        "val": "numbers = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1",
        "hide": false,
        "opts": <%= NUM %>,
        "noCache": false,
        "id": "n"
      }
    ],
    [
      {
        "val": "radius = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "50",
        "hide": false,
        "opts": <%= SIZES %>,
        "noCache": false,
        "id": "r"
      }
    ],
    [
      {
        "val": "shape = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "Circle",
        "hide": false,
        "opts": <%= SHAPES %>,
        "noCache": false,
        "id": "sh"
      }
    ],
    [
      {
        "val": "fillColor = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "000000",
        "hide": false,
        "opts": <%= COLORS %>,
        "noCache": false,
        "id": "fill"
      }
    ],
    [
      {
        "val": "strokeColor = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "000000",
        "hide": false,
        "opts": <%= COLORS %>,
        "noCache": false,
        "id": "str"
      }
    ],
    [
      {
        "val": "lineColor = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "000000",
        "hide": false,
        "opts": <%= COLORS %>,
        "noCache": false,
        "id": "line"
      }
    ],
    [
      {
        "val": "fillOpacity = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0.1",
        "hide": false,
        "opts": <%= OPACITY %>,
        "noCache": false,
        "id": "fillopa"
      }
    ],
    [
      {
        "val": "strokeOpacity = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0.9",
        "hide": false,
        "opts": <%= OPACITY %>,
        "noCache": false,
        "id": "stropa"
      }
    ],
    [
      {
        "val": "lineOpacity = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0.9",
        "hide": false,
        "opts": <%= OPACITY %>,
        "noCache": false,
        "id": "lineopa"
      }
    ],
    [
      {
        "val": "strokeWidth = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1.0",
        "hide": false,
        "opts": <%= LINE_WIDTH %>,
        "noCache": false,
        "id": "strw"
      }
    ],
    [
      {
        "val": "x = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0",
        "hide": false,
        "opts": <%= OFFSETS %>,
        "noCache": false,
        "id": "x"
      }
    ],
    [
      {
        "val": "y = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0",
        "hide": false,
        "opts": <%= OFFSETS %>,
        "noCache": false,
        "id": "y"
      }
    ]
  ],

  <%- # --- Loop --- -%>
  [
    [
      {
        "val": "50",
        "hide": true,
        "id": "r",
        "opts": []
      },
      {
        "val": "000000",
        "hide": true,
        "opts": [],
        "id": "fill"
      },
      {
        "val": "0.1",
        "hide": true,
        "opts": [],
        "id": "fillopa"
      },
      {
        "val": "000000",
        "hide": true,
        "opts": [],
        "id": "str"
      },
      {
        "val": "0.9",
        "hide": true,
        "opts": [],
        "id": "stropa"
      },
      {
        "val": "1",
        "hide": true,
        "opts": [],
        "id": "strw"
      },
      <%= IF %>
  <%- # --- -%>
      {
        "val": "vx = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1",
        "hide": false,
        "opts": <%= V %>,
        "noCache": false,
        "id": "vx"
      }
    ],
    [
      {
        "val": "vy = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0",
        "hide": false,
        "opts": <%= V %>,
        "noCache": false,
        "id": "vy"
      }
    ],
    [
      {
        "val": "while(true) {",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "  x += vx",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "  y += vy",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "}",
        "hide": false,
        "opts": []
      }
    ]
  ],

  <%- # --- If --- -%>
  [
    [
      {
        "val": "50",
        "hide": true,
        "id": "r",
        "opts": []
      },
      {
        "val": "000000",
        "hide": true,
        "opts": [],
        "id": "fill"
      },
      {
        "val": "0.1",
        "hide": true,
        "opts": [],
        "id": "fillopa"
      },
  <%- # --- -%>
      {
        "val": "vx = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1",
        "hide": false,
        "opts": <%= V %>,
        "noCache": false,
        "id": "vx"
      }
    ],
    [
      {
        "val": "vy = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1",
        "hide": false,
        "opts": <%= V %>,
        "noCache": false,
        "id": "vy"
      }
    ],
    [
      {
        "val": "numbers = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1",
        "hide": false,
        "opts": <%= NUM %>,
        "noCache": false,
        "id": "n"
      }
    ],
    [
      {
        "val": "while(true) {",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "  x += vx",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "  y += vy",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "  if (x > ",
        "hide": false,
        "opts": []
      },
      {
        "val": "50",
        "hide": false,
        "opts": <%= OFFSETS %>,
        "noCache": false,
        "id": "ifx"
      },
      {
        "val": ") {",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "    x = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0",
        "hide": false,
        "opts": <%= OFFSETS %>,
        "noCache": false,
        "id": "ifxx"
      }
    ],
    [
      {
        "val": "  }",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "  if (y > ",
        "hide": false,
        "opts": []
      },
      {
        "val": "100",
        "hide": false,
        "opts": <%= OFFSETS %>,
        "noCache": false,
        "id": "ify"
      },
      {
        "val": ") {",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "    y = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0",
        "hide": false,
        "opts": <%= OFFSETS %>,
        "noCache": true,
        "id": "ifyy"
      }
    ],
    [
      {
        "val": "  }",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "}",
        "hide": false,
        "opts": []
      }
    ],
    [
      {
        "val": "line = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "true",
        "hide": false,
        "opts": <%= LINE %>,
        "id": "l"
      }
    ],
    [
      {
        "val": "strokeColor = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "000000",
        "hide": false,
        "opts": <%= COLORS %>,
        "noCache": false,
        "id": "str"
      }
    ],
    [
      {
        "val": "strokeOpacity = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0.9",
        "hide": false,
        "opts": <%= OPACITY %>,
        "noCache": false,
        "id": "stropa"
      }
    ],
    [
      {
        "val": "lineColor = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "000000",
        "hide": false,
        "opts": <%= COLORS %>,
        "noCache": false,
        "id": "line"
      }
    ],
    [
      {
        "val": "lineOpacity = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "0.9",
        "hide": false,
        "opts": <%= OPACITY %>,
        "noCache": false,
        "id": "lineopa"
      }
    ],
    [
      {
        "val": "strokeWidth = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1.0",
        "hide": false,
        "opts": <%= LINE_WIDTH %>,
        "noCache": false,
        "id": "strw"
      }
    ],
    [
      {
        "val": "lineWidth = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "1.0",
        "hide": false,
        "opts": <%= LINE_WIDTH %>,
        "noCache": false,
        "id": "linew"
      }
    ]
  ],

  <%- # --- Wrap-up --- -%>
  [
    [
      {
        "val": "000000",
        "hide": true,
        "opts": [],
        "id": "fill"
      },
      {
        "val": "0.1",
        "hide": true,
        "opts": [],
        "id": "fillopa"
      },
      {
        "val": "000000",
        "hide": true,
        "opts": [],
        "id": "str"
      },
      {
        "val": "0.9",
        "hide": true,
        "opts": [],
        "id": "stropa"
      },
      {
        "val": "1",
        "hide": true,
        "opts": [],
        "id": "strw"
      },
      <%= IF %>
  <%- # --- -%>
      {
        "val": "radius = ",
        "hide": false,
        "opts": []
      },
      {
        "val": "50",
        "hide": false,
        "opts": <%= SIZES %>,
        "id": "r"
      }
    ]
  ]
]
